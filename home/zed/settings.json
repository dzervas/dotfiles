{
	// "speech": {
	// 	"model": "~/Downloads/whisper.ggml-base.en.bin",
	// 	"enabled": true,
	// 	"ai_provider": "Z.AI"
	// },
	"vim_mode": true,
	"edit_predictions": {
		"provider": "copilot",
  "sweep": {
			"privacy_mode": true,
		},
	},
	"telemetry": {
		"diagnostics": true,
		"metrics": false,
	},
	"which_key": {
		"enabled": true,
	},
	"colorize_brackets": true,
	"agent_ui_font_size": 18.0,
	"agent_servers": {
		"opencode": {
			"type": "extension",
			"favorite_models": ["dz/claude-opus-4-6", "dz/glm-4.7", "dz/gpt-5.3-codex(medium)"],
			"default_config_options": {},
			"favorite_config_option_values": {},
		},
		"claude": {
			"default_mode": "acceptEdits",
		},
	},

	// Theme
	"buffer_font_family": "Iosevka Nerd Font",
	"buffer_font_size": 18,
	"agent_buffer_font_size": 17,
	"icon_theme": "Colored Zed Icons Theme Dark",
	"theme": "VSCode Dark Modern",

	// Languages
	"format_on_save": "on",
	"hard_tabs": true,
	"load_direnv": "shell_hook",

	"file_types": {
		"shellscript": [".envrc"],
	},
	"languages": {
		"YAML": {
			"hard_tabs": false,
			"tab_size": 2,
		},
		"Markdown": {
			"show_edit_predictions": false,
		},
		"Typst": {
			"show_edit_predictions": false,
		},
		"Python": {
			"language_servers": ["ty", "!basedpyright"],
		},
		"Rust": {
			"format_on_save": "off",
			"preferred_line_length": 100,
		},
		"Nix": {
			"tab_size": 2,
			"hard_tabs": false,
			"format_on_save": "on",
		},
	},
	"lsp": {
		"rust-analyzer": {
			"initialization_options": {
				"rust": {
					// Use `target/rust-analyzer` to avoid blocking
					"analyzerTargetDir": true,
				},
			},
		},
	},
	"private_files": [".envrc", ".env", ".direnv"],

	// Diagnostics
	"auto_signature_help": true,
	"show_signature_help_after_edits": true,
	"diagnostics": {
		"inline": {
			"enabled": true,
		},
	},
	"inlay_hints": {
		"enabled": true,
		"show_parameter_hints": false,
		"show_type_hints": false,
		"show_value_hints": true,
	},

	// Disable stuff
	"calls": {
		"mute_on_join": true,
	},
	"collaboration_panel": {
		"button": true,
	},
	"git": {
		"inline_blame": {
			"enabled": false,
		},
	},
	"git_panel": {
		"button": false,
	},
	"language_models": {
		// TODO: Add z.ai mcp: https://docs.z.ai/devpack/mcp/zread-mcp-server
		"openai_compatible": {
			"CLIProxyAPI": {
				"api_url": "https://ai.vpn.dzerv.art/v1",
				"available_models": [
					{
						"name": "glm-4.7-flashx",
						"max_tokens": 400000,
						"max_output_tokens": 128000,
						"max_completion_tokens": 400000,
						"display_name": "GLM 4.7 FlashX",
						"capabilities": {
							"tools": true,
							"images": true,
							"parallel_tool_calls": true,
							"prompt_cache_key": true,
						},
					},
					{
						"name": "glm-4.7",
						"max_tokens": 400000,
						"max_output_tokens": 128000,
						"max_completion_tokens": 400000,
						"display_name": "GLM 4.7",
						"capabilities": {
							"tools": true,
							"images": true,
							"parallel_tool_calls": true,
							"prompt_cache_key": true,
						},
					},
					{
						"name": "gpt-5.3-codex",
						"max_tokens": 400000,
						"max_output_tokens": 128000,
						"max_completion_tokens": 400000,
						"display_name": "GPT 5.3 Codex",
						"capabilities": {
							"tools": true,
							"images": true,
							"parallel_tool_calls": true,
							"prompt_cache_key": true,
						},
					},
					{
						"name": "claude-opus-4-6",
						"max_tokens": 200000,
						"max_output_tokens": 64000,
						"max_completion_tokens": 200000,
						"display_name": "Claude Opus 4.6",
						"capabilities": {
							"tools": true,
							"images": true,
							"parallel_tool_calls": true,
							"prompt_cache_key": true,
						},
					},
					{
						"name": "gemini-3-pro-preview",
						"max_tokens": 1000000,
						"max_output_tokens": 65536,
						"max_completion_tokens": 1000000,
						"display_name": "Gemini 3 Pro (preview)",
						"capabilities": {
							"tools": true,
							"images": true,
							"parallel_tool_calls": true,
							"prompt_cache_key": true,
						},
					},
					{
						"name": "gemini-claude-sonnet-4-5-thinking",
						"max_tokens": 200000,
						"max_output_tokens": 64000,
						"max_completion_tokens": 200000,
						"display_name": "Claude Sonnet 4.5 Thinking (gemini)",
						"capabilities": {
							"tools": true,
							"images": true,
							"parallel_tool_calls": true,
							"prompt_cache_key": true,
						},
					},

					{
						"name": "gpt-5.1-codex-mini",
						"max_tokens": 400000,
						"max_output_tokens": 128000,
						"max_completion_tokens": 400000,
						"display_name": "GPT 5.1 Codex Mini",
						"capabilities": {
							"tools": true,
							"images": true,
							"parallel_tool_calls": true,
							"prompt_cache_key": true,
						},
					},
					{
						"name": "gpt-5.2",
						"max_tokens": 400000,
						"max_output_tokens": 128000,
						"max_completion_tokens": 400000,
						"display_name": "GPT 5.2",
						"capabilities": {
							"tools": true,
							"images": true,
							"parallel_tool_calls": true,
							"prompt_cache_key": true,
						},
					},

					{
						"name": "gemini-claude-sonnet-4-5",
						"max_tokens": 200000,
						"max_output_tokens": 64000,
						"max_completion_tokens": 200000,
						"display_name": "Claude Sonnet 4.5 (gemini)",
						"capabilities": {
							"tools": true,
							"images": true,
							"parallel_tool_calls": true,
							"prompt_cache_key": true,
						},
					},
				],
			},
		},
	},

	// Extensions
	"auto_install_extensions": {
		// Theme
		"vscode-dark-modern": true,
		"colored-zed-icons-theme": true,

		// Languages
		"astro": true,
		"basher": true,
		"comment": true,
		"dockerfile": true,
		"fish": true,
		"git-firefly": true,
		"github-actions": true,
		"html": true,
		"hurl": true,
		"jsonnet": true,
		"nix": true,
		"sql": true,
		"svelte": true,
		"tombi": true,
		"toml": true,
		"typst": true,
		"tree-sitter-query": true,

		// Snippets
		"html-snippets": true,
		"javascript-snippets": true,
		"python-snippets": true,
		"react-snippets": true,
		"rust-snippets": true,
		"svelte-snippets": true,
		"typescript-snippets": true,

		// Debugging
		"probe-rs": true,

		"opencode": true,
	},

	// UI & Behavior
	"auto_update": false,
	"autoscroll_on_clicks": true,
	"base_keymap": "VSCode",
	"buffer_line_height": "standard",
	"close_on_file_delete": true,
	"double_click_in_multibuffer": "open",
	"expand_excerpt_lines": 3,
	"gutter": {
		"min_line_number_digits": 2,
	},
	"hover_popover_enabled": true,
	"indent_guides": {
		"coloring": "indent_aware",
	},
	"minimap": {
		"show": "auto",
	},
	"preferred_line_length": 100,
	"relative_line_numbers": "enabled",
	"search": {
		"regex": true,
	},
	"tabs": {
		"file_icons": true,
		"show_diagnostics": "errors",
	},
	"title_bar": {
		"show_branch_icon": true,
	},
	"use_smartcase_search": true,
	"wrap_guides": [100],

	// AI Nitpicks
	"agent": {
		"favorite_models": [
			{
				"provider": "CLIProxyAPI",
				"model": "gpt-5.3-codex",
			},
			{
				"provider": "CLIProxyAPI",
				"model": "claude-opus-4-6-thinking",
			},
		],
		"default_profile": "ask",
		"play_sound_when_agent_done": true,
		"inline_assistant_model": {
			"provider": "CLIProxyAPI",
			"model": "glm-4.7-flashx",
		},
		"default_model": {
			"provider": "CLIProxyAPI",
			"model": "gpt-5.3-codex",
		},

		"tool_permissions": {
			"default": "confirm",
			"tools": {
				"terminal": {
					"default_mode": "confirm",
					"always_allow": [
						{"pattern": "^pwd$"},
						{"pattern": "^ls$"},
						{"pattern": "^file"},
					]
				},
			},
		},
	},
}
